#find-list-container
  .list-header
    .list-header-icon
    %span.badge.badge-inverse
      = campgrounds.count
    Campgrounds found near San Francisco
  .list-filters
    - filter_names.each do |filter|
      %span.label.label-success
        = filter
  .list#find-list
    %ul.media-list
      - campgrounds.each_with_index do |campground,index|
        %li.media.find-list-item(id="campground_list_item_#{campground.id}")
          %a.pull-left(href="#{campground_path(campground)}")
            %img.media-object(src="http://placehold.it/120x120")
          .media-body
            %a(href="#{campground_path(campground)}")
              %h4.media-heading
                = campground.name
            %p.park-name
              = campground.default_park_name
            %p.description
              = truncate_html(strip_tags(campground.description),:length=>300)
            .features
              - campground.categorized_attributes.each do |category,features|
                %p
                  %span.category
                    #{category}
                  %br
                  - features.each_with_index do |feature,index|
                    - if index < 3
                      %span.label.label-feature
                        = feature.name
                    - if index == 3
                      = link_to "and more...", campground
        %hr
        :javascript
          Find.addCampgroundMarker(#{campground.as_json.except('description').to_json});
